<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">
    <changeSet author="mball" id="1386069796664-1">
        <createTable schemaName="mart" tableName="dim_call_entry">
            <column autoIncrement="false" name="call_entry_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_call_entry"/>
            </column>
            <column name="dim_version" type="int4"/>
            <column name="dim_effect_date" type="DATE"/>
            <column name="dim_expire_date" type="DATE"/>
            <column name="call_entry_name" type="VARCHAR(40)"/>
            <column name="dnis" type="VARCHAR(40)"/>
            <column name="service_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_call_entry"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-2">
        <createTable schemaName="mart" tableName="dim_exit_reason">
            <column autoIncrement="false" name="exit_reason_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_exit_reason"/>
            </column>
            <column name="exit_reason" type="VARCHAR(100)"/>
            <column name="service_id" type="int4"/>
            <column name="exit_technical_name" type="VARCHAR(255)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_exit_reason"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-3">
        <createTable schemaName="mart" tableName="dim_journey">
            <column autoIncrement="false" name="journey_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_journey"/>
            </column>
            <column name="journey" remarks="Comma separated ordered list of tasks within a call" type="VARCHAR(1000)"/>
            <column name="journey_hash" type="int4"/>
            <column name="service_id" type="int4"/>
            <column name="journey_count" type="int4"/>
        </createTable>
		<rollback>
        	<dropTable schemaName="mart" tableName="dim_journey"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-4">
        <createTable schemaName="mart" tableName="dim_response">
            <column autoIncrement="false" name="response_id" type="serial">
                <constraints nullable="false"/>
            </column>
            <column name="utterance" type="VARCHAR(255)"/>
            <column name="response_type" type="VARCHAR(255)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_response"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-5">
        <createTable schemaName="mart" tableName="dim_result">
            <column name="result_id" type="int8"/>
            <column name="dim_version" type="int4"/>
            <column name="dim_effect_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dim_expire_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="result_name" type="VARCHAR(100)"/>
            <column name="service_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_result"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-6">
        <createTable schemaName="mart" tableName="dim_resultset">
            <column name="resultset_id" type="int8"/>
            <column name="service_id" type="int4"/>
            <column name="resultset_hash" type="int8"/>
            <column name="resultset_technical" type="TEXT"/>
            <column name="resultset_name" type="TEXT"/>
            <column name="resultset_count" type="FLOAT8"/>
            <column name="resultset_count_success" type="FLOAT8"/>
        </createTable>
       <rollback>
        	<dropTable schemaName="mart" tableName="dim_resultset"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-7">
        <createTable schemaName="mart" tableName="dim_service">
            <column autoIncrement="false" name="service_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_service"/>
            </column>
            <column name="service_name" type="VARCHAR(100)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-8">
        <createTable schemaName="mart" tableName="dim_state">
            <column autoIncrement="false" name="state_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_state"/>
            </column>
            <column name="state_name" type="VARCHAR(50)"/>
            <column name="service_id" type="int4"/>
            <column name="dim_version" type="int4"/>
            <column name="dim_effect_date" type="DATE"/>
            <column name="dim_expire_date" type="DATE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-9">
        <createTable schemaName="mart" tableName="dim_task">
            <column autoIncrement="false" name="task_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_task"/>
            </column>
            <column name="dim_version" type="int4"/>
            <column name="dim_effect_date" type="DATE"/>
            <column name="dim_expire_date" type="DATE"/>
            <column name="service_id" type="int4"/>
            <column name="valid_task" type="int4"/>
            <column name="task_description" type="VARCHAR(255)"/>
            <column name="task_success_text" type="VARCHAR(255)"/>
            <column name="task_technical_name" type="VARCHAR(255)"/>
            <column name="task_name" type="TEXT"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-10">
        <createTable schemaName="mart" tableName="dim_time">
            <column autoIncrement="false" name="time_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_time"/>
            </column>
            <column name="date_hour" type="VARCHAR(5)"/>
            <column name="date_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="date_day_name" type="VARCHAR(10)"/>
            <column name="date_month_name" type="VARCHAR(10)"/>
            <column name="date_qtr" type="VARCHAR(2)"/>
            <column name="day_start_ind" remarks="Y for Hour 0 of Date" type="VARCHAR(1)"/>
            <column name="month_start_ind" remarks="Y for Day 1 Hour 0 of Month" type="VARCHAR(1)"/>
            <column name="date_day_nbr" type="int4"/>
            <column name="date_month_nbr" type="int4"/>
            <column name="date_year" type="int4"/>
            <column name="date_week_of_year" type="int4"/>
            <column name="date_day_of_month" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_time"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-11">
        <createTable schemaName="mart" tableName="dim_transfer">
            <column autoIncrement="false" name="transfer_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dim_transfer"/>
            </column>
            <column name="call_center_dnis" type="VARCHAR(40)"/>
            <column name="service_id" type="int4"/>
            <column name="transfer_type" type="VARCHAR(100)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="dim_transfer"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-12">
        <createTable schemaName="mart" tableName="fact_call">
            <column name="service_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="call_type_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="transfer_id" type="int4"/>
            <column name="call_end_state_id" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="journey_id" type="int4"/>
            <column name="transfer_status" type="VARCHAR(25)"/>
            <column name="transfer_ind" type="VARCHAR(1)"/>
            <column name="call_count" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_count_success" type="int4"/>
            <column name="state_count" type="int4"/>
            <column name="call_duration" remarks="Seconds" type="int4"/>
            <column name="aht_duration" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-13">
        <createTable schemaName="mart" tableName="fact_call_month_agg">
            <column name="service_id" type="int4"/>
            <column name="date_month_nbr" type="VARCHAR(2)"/>
            <column name="date_month_name" type="VARCHAR(10)"/>
            <column name="date_qtr" type="VARCHAR(2)"/>
            <column name="date_year" type="VARCHAR(4)"/>
            <column name="time_id" remarks="First date/hour of month" type="int4"/>
            <column name="call_type_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="transfer_id" type="int4"/>
            <column name="journey_id" type="int4"/>
            <column name="call_end_state_id" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="transfer_ind" type="VARCHAR(1)"/>
            <column name="transfer_status" type="VARCHAR(25)"/>
            <column name="call_count" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_count_success" type="int4"/>
            <column name="call_duration" type="int4"/>
            <column name="aht_duration" type="int4"/>
            <column name="state_count" type="int4"/>
            <column name="fact_count" remarks="Mondrian agg table requirement" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_call_month_agg"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-14">
        <createTable schemaName="mart" tableName="fact_result">
            <column name="service_id" type="int4"/>
            <column name="result_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="result_count" type="int8"/>
            <column name="time_id" type="int4"/>
            <column name="result_count_success" type="int8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_result"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-15">
        <createTable schemaName="mart" tableName="fact_result_month_agg">
            <column name="service_id" type="int4"/>
            <column name="result_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="result_count" type="FLOAT8"/>
            <column name="fact_count" type="int8"/>
            <column name="time_id" type="int4"/>
            <column name="date_month_nbr" type="VARCHAR(2)"/>
            <column name="date_month_name" type="VARCHAR(10)"/>
            <column name="date_qtr" type="VARCHAR(2)"/>
            <column name="date_year" type="VARCHAR(4)"/>
            <column name="result_count_success" type="int8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_result_month_agg"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-16">
        <createTable schemaName="mart" tableName="fact_state">
            <column name="service_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="state_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="call_end_state_ind" type="VARCHAR(1)"/>
            <column name="state_duration" type="int4"/>
            <column name="state_count" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="response_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-17">
        <createTable schemaName="mart" tableName="fact_state_month_agg">
            <column name="service_id" type="int4"/>
            <column name="state_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="call_end_state_ind" type="VARCHAR(1)"/>
            <column name="state_count" type="int8"/>
            <column name="state_duration" type="int8"/>
            <column name="fact_count" type="int8"/>
            <column name="time_id" type="int4"/>
            <column name="date_month_nbr" type="VARCHAR(2)"/>
            <column name="date_month_name" type="VARCHAR(10)"/>
            <column name="date_qtr" type="VARCHAR(2)"/>
            <column name="date_year" type="VARCHAR(4)"/>
            <column name="response_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_state_month_agg"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-18">
        <createTable schemaName="mart" tableName="fact_task">
            <column name="service_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="prev_task_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="call_type_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_flow_success" type="int4"/>
            <column name="task_duration" remarks="Number of Seconds" type="int4"/>
            <column name="task_trans_success" type="int4"/>
            <column name="aht_duration" type="int4"/>
            <column name="billing_amt" type="NUMERIC(10,2)"/>
            <column name="resultset_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-19">
        <createTable schemaName="mart" tableName="fact_task_month_agg">
            <column name="date_month_nbr" type="VARCHAR(2)"/>
            <column name="date_month_name" type="VARCHAR(10)"/>
            <column name="date_qtr" type="VARCHAR(2)"/>
            <column name="date_year" type="VARCHAR(4)"/>
            <column name="service_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="prev_task_id" type="int4"/>
            <column name="time_id" remarks="First date/hour of month" type="int4"/>
            <column name="call_type_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_flow_success" type="int4"/>
            <column name="task_duration" remarks="Number of Seconds" type="int4"/>
            <column name="task_trans_success" type="int4"/>
            <column name="aht_duration" type="int4"/>
            <column name="billing_amt" type="NUMERIC(10,2)"/>
            <column name="fact_count" remarks="Mondrian agg table requirement" type="int4"/>
            <column name="resultset_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="fact_task_month_agg"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-20">
        <createTable schemaName="mart" tableName="hlpr_benchmarks">
            <column name="service_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="benchmark_name" remarks="Task Name, State Name, etc. (readability only)" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="min_amount" type="NUMERIC(10,2)"/>
            <column name="max_amount" type="NUMERIC(10,2)"/>
            <column name="status_indicator" remarks="Red, Amber, Green" type="VARCHAR(10)"/>
            <column name="sla_amount" type="NUMERIC(10,2)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="hlpr_benchmarks"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-21">
        <createTable schemaName="mart" tableName="hlpr_friendly_names">
            <column name="service_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="name_type" remarks="Task, State, etc." type="VARCHAR(25)"/>
            <column name="technical_name" type="VARCHAR(255)"/>
            <column name="friendly_name" type="VARCHAR(100)"/>
            <column name="description_text" type="VARCHAR(255)"/>
            <column name="success_text" type="VARCHAR(255)"/>
            <column name="valid_task" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="hlpr_friendly_names"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-22">
        <createTable schemaName="mart" tableName="hlpr_task_amounts">
            <column name="billing_id" type="int8"/>
            <column name="version" type="int4"/>
            <column name="date_from" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="date_to" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="service_id" type="int4"/>
            <column name="task_name" type="TEXT"/>
            <column name="resultset" type="VARCHAR(255)"/>
            <column name="billing_amt" type="FLOAT8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="hlpr_task_amounts"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-23">
        <createTable schemaName="mart" tableName="ods_call">
            <column name="call_type_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="service_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="uniq_call_id" type="int4"/>
            <column name="call_count" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_count_success" type="int4"/>
            <column name="call_duration" type="int4"/>
            <column name="state_count" type="int4"/>
            <column name="transfer_status" type="VARCHAR(25)"/>
            <column name="transfer_ind" type="VARCHAR(1)"/>
            <column name="journey_id" type="int4"/>
            <column name="call_end_state_id" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="transfer_id" type="int4"/>
            <column name="cli_crc32" type="int8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="ods_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-24">
        <createTable schemaName="mart" tableName="ods_result">
            <column name="service_id" type="int4"/>
            <column name="result_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="uniq_result_id" type="int8"/>
            <column name="result_count" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="result_count_success" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="ods_result"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-25">
        <createTable schemaName="mart" tableName="ods_state">
            <column name="service_id" type="int4"/>
            <column name="state_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="exit_reason_id" type="int4"/>
            <column name="call_end_state_ind" type="VARCHAR(1)"/>
            <column name="uniq_state_id" type="int4"/>
            <column name="next_state_id" type="int4"/>
            <column name="state_count" type="int4"/>
            <column name="state_duration" type="int4"/>
            <column name="response_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="ods_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-26">
        <createTable schemaName="mart" tableName="ods_task">
            <column name="service_id" type="int4"/>
            <column name="task_id" type="int4"/>
            <column name="prev_task_id" type="int4"/>
            <column name="time_id" type="int4"/>
            <column name="call_type_id" type="int4"/>
            <column name="call_entry_id" type="int4"/>
            <column name="uniq_task_id" type="int4"/>
            <column name="task_count" type="int4"/>
            <column name="task_flow_success" type="int4"/>
            <column name="task_duration" remarks="Number of Seconds" type="int4"/>
            <column name="task_trans_success" type="int4"/>
            <column name="aht_duration" type="int4"/>
            <column name="billing_amt" type="NUMERIC(10,2)"/>
            <column name="resultset_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="mart" tableName="ods_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-27">
        <addForeignKeyConstraint baseColumnNames="call_end_state_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_ods_call_dim_state" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="state_id" referencedTableName="dim_state" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_ods_call_dim_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-28">
        <addForeignKeyConstraint baseColumnNames="call_entry_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_ods_call_dim_call_entry" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="call_entry_id" referencedTableName="dim_call_entry" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_ods_call_dim_call_entry"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-29">
        <addForeignKeyConstraint baseColumnNames="exit_reason_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_ods_call_dim_exit_reason" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="exit_reason_id" referencedTableName="dim_exit_reason" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_ods_call_dim_exit_reason"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-30">
        <addForeignKeyConstraint baseColumnNames="journey_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_ods_call_dim_journey" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="journey_id" referencedTableName="dim_journey" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_ods_call_dim_journey"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-31">
        <addForeignKeyConstraint baseColumnNames="time_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_fact_call_dim_time" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="time_id" referencedTableName="dim_time" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_fact_call_dim_time"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-32">
        <addForeignKeyConstraint baseColumnNames="transfer_id" baseTableName="ods_call" baseTableSchemaName="mart" constraintName="fk_ods_call_dim_transfer" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="transfer_id" referencedTableName="dim_transfer" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_call" constraintName="fk_ods_call_dim_transfer"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-33">
        <addForeignKeyConstraint baseColumnNames="exit_reason_id" baseTableName="ods_state" baseTableSchemaName="mart" constraintName="fk_ods_state_dim_exit_reason" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="exit_reason_id" referencedTableName="dim_exit_reason" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_state" constraintName="fk_ods_state_dim_exit_reason"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-34">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="ods_state" baseTableSchemaName="mart" constraintName="fk_ods_state_dim_state" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="state_id" referencedTableName="dim_state" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_state" constraintName="fk_ods_state_dim_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-35">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="ods_state" baseTableSchemaName="mart" constraintName="fk_ods_state_dim_task" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="task_id" referencedTableName="dim_task" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_state" constraintName="fk_ods_state_dim_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-36">
        <addForeignKeyConstraint baseColumnNames="time_id" baseTableName="ods_state" baseTableSchemaName="mart" constraintName="fk_ods_state_dim_time" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="time_id" referencedTableName="dim_time" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_state" constraintName="fk_ods_state_dim_time"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-37">
        <addForeignKeyConstraint baseColumnNames="call_entry_id" baseTableName="ods_task" baseTableSchemaName="mart" constraintName="fk_ods_task_dim_call_entry" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="call_entry_id" referencedTableName="dim_call_entry" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_task" constraintName="fk_ods_task_dim_call_entry"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-38">
        <addForeignKeyConstraint baseColumnNames="prev_task_id" baseTableName="ods_task" baseTableSchemaName="mart" constraintName="fk_ods_task_dim_task_prev" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="task_id" referencedTableName="dim_task" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_task" constraintName="fk_ods_task_dim_task_prev"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-39">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="ods_task" baseTableSchemaName="mart" constraintName="fk_ods_task_dim_task" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="task_id" referencedTableName="dim_task" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_task" constraintName="fk_ods_task_dim_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-40">
        <addForeignKeyConstraint baseColumnNames="time_id" baseTableName="ods_task" baseTableSchemaName="mart" constraintName="fk_ods_task_dim_time" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="time_id" referencedTableName="dim_time" referencedTableSchemaName="mart" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="mart" baseTableName="ods_task" constraintName="fk_ods_task_dim_time"/>
        </rollback>
    </changeSet>
       
    <changeSet author="mball" id="1386069796664-41">
        <createIndex indexName="idx_dim_call_entry_lookup" schemaName="mart" tableName="dim_call_entry" unique="false">
            <column name="call_entry_name"/>
            <column name="dnis"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_call_entry" indexName="idx_dim_call_entry_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-42">
        <createIndex indexName="dim_exit_reason_lookup_idx" schemaName="mart" tableName="dim_exit_reason" unique="false">
            <column name="exit_technical_name"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_exit_reason" indexName="dim_exit_reason_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-43">
        <createIndex indexName="dim_journey_lookup_idx" schemaName="mart" tableName="dim_journey" unique="false">
            <column name="journey_hash"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_journey" indexName="dim_journey_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-44">
        <createIndex indexName="idx_dim_result_lookup" schemaName="mart" tableName="dim_result" unique="false">
            <column name="result_name"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_result" indexName="idx_dim_result_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-45">
        <createIndex indexName="idx_dim_result_tk" schemaName="mart" tableName="dim_result" unique="false">
            <column name="result_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_result" indexName="idx_dim_result_tk"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-46">
        <createIndex indexName="idx_dim_resultset_lookup" schemaName="mart" tableName="dim_resultset" unique="false">
            <column name="resultset_hash"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_resultset" indexName="idx_dim_resultset_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-47">
        <createIndex indexName="idx_dim_resultset_pk" schemaName="mart" tableName="dim_resultset" unique="true">
            <column name="resultset_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_resultset" indexName="idx_dim_resultset_pk"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-48">
        <createIndex indexName="dim_state_state_name_service_id_idx" schemaName="mart" tableName="dim_state" unique="false">
            <column name="state_name"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_state" indexName="dim_state_state_name_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-49">
        <createIndex indexName="dim_time_lookup_idx" schemaName="mart" tableName="dim_time" unique="false">
            <column name="date_date"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_time" indexName="dim_time_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-50">
        <createIndex indexName="dim_call_center_lookup_idx" schemaName="mart" tableName="dim_transfer" unique="false">
            <column name="call_center_dnis"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_transfer" indexName="dim_call_center_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-51">
        <createIndex indexName="dim_transfer_lookup_idx" schemaName="mart" tableName="dim_transfer" unique="false">
            <column name="call_center_dnis"/>
            <column name="transfer_type"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="dim_transfer" indexName="dim_transfer_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-52">
        <createIndex indexName="fact_call_call_end_state_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="call_end_state_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_call_end_state_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-53">
        <createIndex indexName="fact_call_call_entry_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="call_entry_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_call_entry_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-54">
        <createIndex indexName="fact_call_call_type_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-55">
        <createIndex indexName="fact_call_exit_reason_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="exit_reason_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_exit_reason_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-56">
        <createIndex indexName="fact_call_journey_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="journey_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_journey_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-57">
        <createIndex indexName="fact_call_service_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-58">
        <createIndex indexName="fact_call_time_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="time_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_time_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-59">
        <createIndex indexName="fact_call_transfer_id_idx" schemaName="mart" tableName="fact_call" unique="false">
            <column name="transfer_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call" indexName="fact_call_transfer_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-60">
        <createIndex indexName="fact_call_month_agg_call_entry_id_idx" schemaName="mart" tableName="fact_call_month_agg" unique="false">
            <column name="call_entry_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call_month_agg" indexName="fact_call_month_agg_call_entry_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-61">
        <createIndex indexName="fact_call_month_agg_call_type_id_idx" schemaName="mart" tableName="fact_call_month_agg" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call_month_agg" indexName="fact_call_month_agg_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-62">
        <createIndex indexName="fact_call_month_agg_service_id_idx" schemaName="mart" tableName="fact_call_month_agg" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call_month_agg" indexName="fact_call_month_agg_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-63">
        <createIndex indexName="fact_call_month_agg_time_id_idx" schemaName="mart" tableName="fact_call_month_agg" unique="false">
            <column name="time_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_call_month_agg" indexName="fact_call_month_agg_time_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-64">
        <createIndex indexName="fact_state_call_end_state_ind_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="call_end_state_ind"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_call_end_state_ind_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-65">
        <createIndex indexName="fact_state_exit_reason_id_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="exit_reason_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_exit_reason_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-66">
        <createIndex indexName="fact_state_service_id_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-67">
        <createIndex indexName="fact_state_state_id_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="state_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_state_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-68">
        <createIndex indexName="fact_state_task_id_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-69">
        <createIndex indexName="fact_state_time_id_idx" schemaName="mart" tableName="fact_state" unique="false">
            <column name="time_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_state" indexName="fact_state_time_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-70">
        <createIndex indexName="fact_task_call_entry_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="call_entry_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_call_entry_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-71">
        <createIndex indexName="fact_task_call_type_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-72">
        <createIndex indexName="fact_task_prev_task_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="prev_task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_prev_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-73">
        <createIndex indexName="fact_task_service_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-74">
        <createIndex indexName="fact_task_task_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-75">
        <createIndex indexName="fact_task_time_id_idx" schemaName="mart" tableName="fact_task" unique="false">
            <column name="time_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task" indexName="fact_task_time_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-76">
        <createIndex indexName="fact_task_month_agg_call_entry_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="call_entry_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_call_entry_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-77">
        <createIndex indexName="fact_task_month_agg_call_type_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-78">
        <createIndex indexName="fact_task_month_agg_prev_task_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="prev_task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_prev_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-79">
        <createIndex indexName="fact_task_month_agg_service_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-80">
        <createIndex indexName="fact_task_month_agg_task_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-81">
        <createIndex indexName="fact_task_month_agg_time_id_idx" schemaName="mart" tableName="fact_task_month_agg" unique="false">
            <column name="time_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="fact_task_month_agg" indexName="fact_task_month_agg_time_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-82">
        <createIndex indexName="idx_hlpr_task_amounts_lookup" schemaName="mart" tableName="hlpr_task_amounts" unique="false">
            <column name="service_id"/>
            <column name="task_name"/>
            <column name="resultset"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="hlpr_task_amounts" indexName="idx_hlpr_task_amounts_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-83">
        <createIndex indexName="idx_hlpr_task_amounts_tk" schemaName="mart" tableName="hlpr_task_amounts" unique="false">
            <column name="billing_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="hlpr_task_amounts" indexName="idx_hlpr_task_amounts_tk"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-84">
        <createIndex indexName="ods_call_call_type_id_idx" schemaName="mart" tableName="ods_call" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_call" indexName="ods_call_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-85">
        <createIndex indexName="ods_call_service_id_idx" schemaName="mart" tableName="ods_call" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_call" indexName="ods_call_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-86">
        <createIndex indexName="ods_call_transfer_ind_idx" schemaName="mart" tableName="ods_call" unique="false">
            <column name="transfer_ind"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_call" indexName="ods_call_transfer_ind_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-87">
        <createIndex indexName="ods_call_transfer_status_idx" schemaName="mart" tableName="ods_call" unique="false">
            <column name="transfer_status"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_call" indexName="ods_call_transfer_status_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-88">
        <createIndex indexName="ods_call_uniq_call_id_idx" schemaName="mart" tableName="ods_call" unique="false">
            <column name="uniq_call_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_call" indexName="ods_call_uniq_call_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-89">
        <createIndex indexName="idx_ods_result_lookup" schemaName="mart" tableName="ods_result" unique="false">
            <column name="uniq_result_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_result" indexName="idx_ods_result_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-90">
        <createIndex indexName="ods_state_call_end_state_ind_idx" schemaName="mart" tableName="ods_state" unique="false">
            <column name="call_end_state_ind"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_state" indexName="ods_state_call_end_state_ind_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-91">
        <createIndex indexName="ods_state_service_id_idx" schemaName="mart" tableName="ods_state" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_state" indexName="ods_state_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-92">
        <createIndex indexName="ods_state_uniq_state_id_idx" schemaName="mart" tableName="ods_state" unique="false">
            <column name="uniq_state_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_state" indexName="ods_state_uniq_state_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-93">
        <createIndex indexName="ods_task_call_type_id_idx" schemaName="mart" tableName="ods_task" unique="false">
            <column name="call_type_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_task" indexName="ods_task_call_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-94">
        <createIndex indexName="ods_task_service_id_idx" schemaName="mart" tableName="ods_task" unique="false">
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_task" indexName="ods_task_service_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-95">
        <createIndex indexName="ods_task_uniq_task_id_idx" schemaName="mart" tableName="ods_task" unique="false">
            <column name="uniq_task_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="mart" tableName="ods_task" indexName="ods_task_uniq_task_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-96">
        <createSequence schemaName="mart" sequenceName="billing_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="billing_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-97">
        <createSequence schemaName="mart" sequenceName="result_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="result_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-98">
        <createSequence schemaName="mart" sequenceName="resultset_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="resultset_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-99">
        <createSequence schemaName="mart" sequenceName="call_entry_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="call_entry_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-100">
        <createSequence schemaName="mart" sequenceName="exit_reason_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="exit_reason_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-101">
        <createSequence schemaName="mart" sequenceName="journey_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="journey_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-102">
        <createSequence schemaName="mart" sequenceName="response_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="response_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-103">
        <createSequence schemaName="mart" sequenceName="service_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="service_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-104">
        <createSequence schemaName="mart" sequenceName="state_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="state_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-105">
        <createSequence schemaName="mart" sequenceName="task_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="task_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-106">
        <createSequence schemaName="mart" sequenceName="time_id_seq"/>
		<rollback>
        	<dropSequence schemaName="mart" sequenceName="time_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-107">
        <createSequence schemaName="mart" sequenceName="transfer_id_seq"/>
        <rollback>
        	<dropSequence schemaName="mart" sequenceName="transfer_id_seq"/>
        </rollback>
    </changeSet>    
     
    <changeSet author="mball" id="1386069796664-108">
        <addUniqueConstraint columnNames="uniq_task_id" schemaName="mart" tableName="ods_task" constraintName="uniq_ods_task_uniq_task_id"/>
        <rollback>
        	<dropUniqueConstraint schemaName="mart" tableName="ods_task" constraintName="uniq_ods_task_uniq_task_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-109">
        <addUniqueConstraint columnNames="uniq_call_id" schemaName="mart" tableName="ods_call" constraintName="uniq_ods_call_uniq_call_id"/>
        <rollback>
        	<dropUniqueConstraint schemaName="mart" tableName="ods_call" constraintName="uniq_ods_call_uniq_call_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-110">
        <addUniqueConstraint columnNames="uniq_state_id" schemaName="mart" tableName="ods_state" constraintName="uniq_ods_state_uniq_state_id"/>
        <rollback>
        	<dropUniqueConstraint schemaName="mart" tableName="ods_state" constraintName="uniq_ods_state_uniq_state_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069796664-111">
        <addUniqueConstraint columnNames="uniq_result_id" schemaName="mart" tableName="ods_result" constraintName="uniq_ods_task_uniq_result_id"/>
        <rollback>
        	<dropUniqueConstraint schemaName="mart" tableName="ods_result" constraintName="uniq_ods_task_uniq_result_id"/>
        </rollback>
    </changeSet>
    
</databaseChangeLog>
