<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">
    <changeSet author="mball" id="1386069726671-1">
        <createTable schemaName="dw" tableName="dw_call">
            <column name="dw_call_id" type="FLOAT8">
                <constraints nullable="false"/>
            </column>
            <column name="call_id" type="int8">
                <constraints nullable="false"/>
            </column>
            <column name="src_idx" type="int2">
                <constraints nullable="false"/>
            </column>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="ani" type="VARCHAR(255)"/>
            <column name="end_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="start_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dnis" type="VARCHAR(255)"/>
            <column name="exit_status" type="VARCHAR(255)"/>
            <column name="incoming_ind" type="char(1)"/>
            <column name="service_id" type="int8"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_call"/>        	
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-2">
        <createTable schemaName="dw" tableName="dw_call_property">
            <column name="dw_property_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="dw_call_id" type="int4">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_call_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-3">
        <createTable schemaName="dw" tableName="dw_property">
            <column autoIncrement="false" name="dw_property_id" type="serial">
                <constraints nullable="false"/>
            </column>
            <column name="property_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="src_idx" type="int2">
                <constraints nullable="false"/>
            </column>
            <column name="element" type="VARCHAR(255)"/>
            <column name="dw_property_type_id" type="int4"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="service_id" type="int4">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-4">
        <createTable schemaName="dw" tableName="dw_property_type">
            <column autoIncrement="false" name="dw_property_type_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_property_type"/>
            </column>
            <column name="property_name" type="VARCHAR(255)"/>
            <column name="property_description" type="VARCHAR(255)"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="technical_name" type="VARCHAR(255)"/>
            <column name="service_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_property_type"/>
        </rollback>
    </changeSet>

    <changeSet author="mball" id="1386069726671-5">
        <createTable schemaName="dw" tableName="dw_response">
            <column name="dw_response_id" type="FLOAT8">
                <constraints nullable="false"/>
            </column>
            <column name="response_id" type="int8">
                <constraints nullable="false"/>
            </column>
            <column name="src_idx" type="int2">
                <constraints nullable="false"/>
            </column>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="idx" type="int4"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_response_type_id" type="int8"/>
            <column name="dw_state_id" type="int4"/>
            <column name="input" type="VARCHAR(255)"/>
            <column name="service_id" type="int4"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_response"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-6">
        <createTable schemaName="dw" tableName="dw_response_type">
            <column name="dw_response_type_id" type="int8">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_response_type"/>
            </column>
            <column name="technical_name" type="VARCHAR(255)"/>
            <column name="response_name" type="VARCHAR(255)"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_response_type"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-7">
        <createTable schemaName="dw" tableName="dw_result">
            <column name="dw_result_id" type="int8">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_result"/>
            </column>
            <column name="service_id" type="int8"/>
            <column name="dw_call_id" type="int8"/>
            <column name="dw_task_id" type="int8"/>
            <column name="dw_service_result_id" type="int8"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="success_ind" type="char(1)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_result"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-8">
        <createTable schemaName="dw" tableName="dw_result_id">
            <column name="result_id" type="int8">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_result_id"/>
            </column>
            <column name="task_id" type="int8"/>
            <column name="task_result" type="TEXT"/>
            <column name="hashcode" type="int8"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_result_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-9">
        <createTable schemaName="dw" tableName="dw_service">
            <column name="service_id" type="int4">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_service"/>
            </column>
            <column name="service_name" type="VARCHAR(255)"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="visible_ind" type="VARCHAR(1)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-10">
        <createTable schemaName="dw" tableName="dw_service_result">
            <column autoIncrement="false" name="dw_service_result_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_service_result"/>
            </column>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="service_id" type="int4"/>
            <column name="technical_name" type="VARCHAR(255)"/>
            <column name="result_name" type="VARCHAR(100)"/>
            <column name="is_transaction_result" type="int4"/>
        </createTable>
    	<rollback>
        	<dropTable schemaName="dw" tableName="dw_service_result"/>
        </rollback>    
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-11">
        <createTable schemaName="dw" tableName="dw_service_state">
            <column autoIncrement="false" name="dw_service_state_id" type="serial">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_service_state"/>
            </column>
            <column name="state_name" type="VARCHAR(255)"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="service_id" type="int4"/>
            <column name="technical_name" type="VARCHAR(255)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_service_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-12">
        <createTable schemaName="dw" tableName="dw_service_task">
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="service_id" type="int4"/>
            <column name="technical_name" type="VARCHAR(255)"/>
            <column name="task_name" type="VARCHAR(100)"/>
            <column name="dw_service_task_id" type="int4">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_service_task"/>
            </column>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_service_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-13">
        <createTable schemaName="dw" tableName="dw_service_task_definition">
            <column name="service_id" type="int4"/>
            <column name="task_definition_file" type="VARCHAR(500)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_service_task_definition"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-14">
        <createTable schemaName="dw" tableName="dw_state">
            <column name="state_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="src_idx" type="int2">
                <constraints nullable="false"/>
            </column>
            <column autoIncrement="false" name="dw_state_id" type="serial">
                <constraints nullable="false"/>
            </column>
            <column name="dw_call_id" type="int8">
                <constraints nullable="false"/>
            </column>
            <column name="start_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="end_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="idx" type="int4"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_service_state_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="service_id" type="int4">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-15">
        <createTable schemaName="dw" tableName="dw_state_property">
            <column name="dw_property_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="dw_state_id" type="int4">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_state_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-16">
        <createTable schemaName="dw" tableName="dw_task">
            <column name="dw_task_id" type="int8">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_task"/>
            </column>
            <column name="service_id" type="int8"/>
            <column name="dw_call_id" type="int8"/>
            <column name="dw_service_task_id" type="int8"/>
            <column name="idx" type="FLOAT8"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="start_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="end_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="success_ind" type="char(1)"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-17">
        <createTable schemaName="dw" tableName="dw_task_id">
            <column name="task_id" type="int8">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_dw_task_id"/>
            </column>
            <column name="dw_call_id" type="int8"/>
            <column name="task_name" type="TEXT"/>
            <column name="task_idx" type="FLOAT8"/>
            <column name="hashcode" type="int8"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_task_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-18">
        <createTable schemaName="dw" tableName="dw_task_property">
            <column name="dw_task_id" type="int8"/>
            <column name="dw_property_id" type="int8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_task_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-19">
        <createTable schemaName="dw" tableName="dw_transfer">
            <column autoIncrement="false" name="dw_transfer_id" type="serial">
                <constraints nullable="false"/>
            </column>
            <column name="transfer_id" type="int4">
                <constraints nullable="false"/>
            </column>
            <column name="src_idx" type="int2">
                <constraints nullable="false"/>
            </column>
            <column name="start_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="end_time" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="destination" type="VARCHAR(255)"/>
            <column name="initiator" type="VARCHAR(255)"/>
            <column name="status" type="VARCHAR(255)"/>
            <column name="dw_date" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="created" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="dw_state_id" type="int4"/>
            <column name="service_id" type="int4"/>
            <column name="dw_call_id" type="int8"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="dw_transfer"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-20">
        <createTable schemaName="dw" tableName="load_control">
            <column name="job_name" type="VARCHAR(100)"/>
            <column name="interval_start" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="interval_end" type="TIMESTAMP WITH TIME ZONE"/>
            <column name="status_name" type="VARCHAR(10)"/>
            <column name="status_date" type="TIMESTAMP WITH TIME ZONE"/>
        </createTable>
        <rollback>
        	<dropTable schemaName="dw" tableName="load_control"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-21">
        <addPrimaryKey columnNames="call_id, src_idx" constraintName="pk_dw_call" schemaName="dw" tableName="dw_call"/>
        <rollback>
        	<dropPrimaryKey schemaName="dw" tableName="dw_call" constraintName="pk_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-22">
        <addPrimaryKey columnNames="property_id, src_idx" constraintName="pk_dw_property" schemaName="dw" tableName="dw_property"/>
        <rollback>
        	<dropPrimaryKey schemaName="dw" tableName="dw_property" constraintName="pk_dw_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-23">
        <addPrimaryKey columnNames="response_id, src_idx" constraintName="pk_dw_response" schemaName="dw" tableName="dw_response"/>
        <rollback>
        	<dropPrimaryKey schemaName="dw" tableName="dw_response" constraintName="pk_dw_response"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-24">
        <addPrimaryKey columnNames="state_id, src_idx" constraintName="pk_dw_state" schemaName="dw" tableName="dw_state"/>
        <rollback>
        	<dropPrimaryKey schemaName="dw" tableName="dw_state" constraintName="pk_dw_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-25">
        <addPrimaryKey columnNames="transfer_id, src_idx" constraintName="pk_dw_transfer" schemaName="dw" tableName="dw_transfer"/>
        <rollback>
        	<dropPrimaryKey schemaName="dw" tableName="dw_transfer" constraintName="pk_dw_transfer"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-26">
        <addUniqueConstraint columnNames="dw_call_id" constraintName="dw_call_dw_call_id_key" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="dw" tableName="dw_call"/>
        <rollback>
        	<dropUniqueConstraint schemaName="dw" tableName="dw_call" constraintName="dw_call_dw_call_id_key"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-27">
        <addUniqueConstraint columnNames="dw_property_id" constraintName="dw_property_dw_property_id_key" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="dw" tableName="dw_property"/>
        <rollback>
        	<dropUniqueConstraint schemaName="dw" tableName="dw_property" constraintName="dw_property_dw_property_id_key"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-28">
        <addUniqueConstraint columnNames="dw_response_id" constraintName="dw_response_dw_response_id_key" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="dw" tableName="dw_response"/>
        <rollback>
        	<dropUniqueConstraint schemaName="dw" tableName="dw_response" constraintName="dw_response_dw_response_id_key"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-29">
        <addUniqueConstraint columnNames="dw_state_id" constraintName="dw_state_dw_state_id_key" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="dw" tableName="dw_state"/>
        <rollback>
        	<dropUniqueConstraint schemaName="dw" tableName="dw_state" constraintName="dw_state_dw_state_id_key"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-30">
        <addUniqueConstraint columnNames="dw_transfer_id" constraintName="dw_transfer_dw_transfer_id" deferrable="false" disabled="false" initiallyDeferred="false" schemaName="dw" tableName="dw_transfer"/>
        <rollback>
        	<dropUniqueConstraint schemaName="dw" tableName="dw_transfer" constraintName="dw_transfer_dw_transfer_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-31">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_call" baseTableSchemaName="dw" constraintName="fk_dw_call_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_call" constraintName="fk_dw_call_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-32">
        <addForeignKeyConstraint baseColumnNames="dw_call_id" baseTableName="dw_call_property" baseTableSchemaName="dw" constraintName="fk_dw_call_property_dw_call" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_call_id" referencedTableName="dw_call" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_call_property" constraintName="fk_dw_call_property_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-33">
        <addForeignKeyConstraint baseColumnNames="dw_property_id" baseTableName="dw_call_property" baseTableSchemaName="dw" constraintName="fk_dw_call_property_dw_property" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_property_id" referencedTableName="dw_property" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_call_property" constraintName="fk_dw_call_property_dw_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-34">
        <addForeignKeyConstraint baseColumnNames="dw_property_type_id" baseTableName="dw_property" baseTableSchemaName="dw" constraintName="fk_dw_property_dw_property_type" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_property_type_id" referencedTableName="dw_property_type" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_property" constraintName="fk_dw_property_dw_property_type"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-35">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_property" baseTableSchemaName="dw" constraintName="fk_dw_property_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_property" constraintName="fk_dw_property_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-36">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_property_type" baseTableSchemaName="dw" constraintName="fk_dw_proprty_type_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_property_type" constraintName="fk_dw_proprty_type_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-37">
        <addForeignKeyConstraint baseColumnNames="dw_response_type_id" baseTableName="dw_response" baseTableSchemaName="dw" constraintName="fk_dw_response_dw_response_type" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_response_type_id" referencedTableName="dw_response_type" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_response" constraintName="fk_dw_response_dw_response_type"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-38">
        <addForeignKeyConstraint baseColumnNames="dw_state_id" baseTableName="dw_response" baseTableSchemaName="dw" constraintName="fk_dw_response_dw_state" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_state_id" referencedTableName="dw_state" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_response" constraintName="fk_dw_response_dw_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-39">
        <addForeignKeyConstraint baseColumnNames="dw_call_id" baseTableName="dw_result" baseTableSchemaName="dw" constraintName="fk_dw_result_dw_call" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_call_id" referencedTableName="dw_call" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_result" constraintName="fk_dw_result_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-40">
        <addForeignKeyConstraint baseColumnNames="dw_result_id" baseTableName="dw_result" baseTableSchemaName="dw" constraintName="fk_dw_result_dw_result_id" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="result_id" referencedTableName="dw_result_id" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_result" constraintName="fk_dw_result_dw_result_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-41">
        <addForeignKeyConstraint baseColumnNames="dw_service_result_id" baseTableName="dw_result" baseTableSchemaName="dw" constraintName="fk_dw_result_dw_service_result" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="dw_service_result_id" referencedTableName="dw_service_result" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_result" constraintName="fk_dw_result_dw_service_result"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-42">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_service_result" baseTableSchemaName="dw" constraintName="fk_dw_service_result_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_service_result" constraintName="fk_dw_service_result_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-43">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_service_state" baseTableSchemaName="dw" constraintName="fk_dw_service_state_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_service_state" constraintName="fk_dw_service_state_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-44">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_service_task" baseTableSchemaName="dw" constraintName="fk_dw_service_task_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_service_task" constraintName="fk_dw_service_task_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-45">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_service_task_definition" baseTableSchemaName="dw" constraintName="fk_dw_service_task_definition_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_service_task_definition" constraintName="fk_dw_service_task_definition_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-46">
        <addForeignKeyConstraint baseColumnNames="dw_call_id" baseTableName="dw_state" baseTableSchemaName="dw" constraintName="fk_dw_state_dw_call" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_call_id" referencedTableName="dw_call" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_state" constraintName="fk_dw_state_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-47">
        <addForeignKeyConstraint baseColumnNames="dw_service_state_id" baseTableName="dw_state" baseTableSchemaName="dw" constraintName="fk_dw_state_dw_service_state" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="dw_service_state_id" referencedTableName="dw_service_state" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_state" constraintName="fk_dw_state_dw_service_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-48">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_state" baseTableSchemaName="dw" constraintName="fk_dw_state_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_state" constraintName="fk_dw_state_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-49">
        <addForeignKeyConstraint baseColumnNames="dw_property_id" baseTableName="dw_state_property" baseTableSchemaName="dw" constraintName="fk_dw_state_property_dw_property" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_property_id" referencedTableName="dw_property" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_state_property" constraintName="fk_dw_state_property_dw_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-50">
        <addForeignKeyConstraint baseColumnNames="dw_state_id" baseTableName="dw_state_property" baseTableSchemaName="dw" constraintName="fk_dw_state_property_dw_state" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_state_id" referencedTableName="dw_state" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_state_property" constraintName="fk_dw_state_property_dw_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-51">
        <addForeignKeyConstraint baseColumnNames="dw_call_id" baseTableName="dw_task" baseTableSchemaName="dw" constraintName="fk_dw_task_dw_call" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_call_id" referencedTableName="dw_call" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_task" constraintName="fk_dw_task_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-52">
        <addForeignKeyConstraint baseColumnNames="dw_service_task_id" baseTableName="dw_task" baseTableSchemaName="dw" constraintName="fk_dw_task_dw_service_task" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="dw_service_task_id" referencedTableName="dw_service_task" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_task" constraintName="fk_dw_task_dw_service_task"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-53">
        <addForeignKeyConstraint baseColumnNames="dw_task_id" baseTableName="dw_task" baseTableSchemaName="dw" constraintName="fk_dw_task_dw_task_id" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="task_id" referencedTableName="dw_task_id" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_task" constraintName="fk_dw_task_dw_task_id"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-54">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_task" baseTableSchemaName="dw" constraintName="fk_dw_task_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_task" constraintName="fk_dw_task_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-55">
        <addForeignKeyConstraint baseColumnNames="dw_property_id" baseTableName="dw_task_property" baseTableSchemaName="dw" constraintName="fk_dw_task_property_dw_property" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_property_id" referencedTableName="dw_property" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_task_property" constraintName="fk_dw_task_property_dw_property"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-56">
        <addForeignKeyConstraint baseColumnNames="dw_call_id" baseTableName="dw_transfer" baseTableSchemaName="dw" constraintName="fk_dw_transfer_dw_call" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_call_id" referencedTableName="dw_call" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_transfer" constraintName="fk_dw_transfer_dw_call"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-57">
        <addForeignKeyConstraint baseColumnNames="dw_state_id" baseTableName="dw_transfer" baseTableSchemaName="dw" constraintName="fk_dw_transfer_dw_state" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="dw_state_id" referencedTableName="dw_state" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
       <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_transfer" constraintName="fk_dw_transfer_dw_state"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-58">
        <addForeignKeyConstraint baseColumnNames="service_id" baseTableName="dw_transfer" baseTableSchemaName="dw" constraintName="fk_dw_transfer_dw_service" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="service_id" referencedTableName="dw_service" referencedTableSchemaName="dw" referencesUniqueColumn="false"/>
        <rollback>
        	<dropForeignKeyConstraint baseTableSchemaName="dw" baseTableName="dw_transfer" constraintName="fk_dw_transfer_dw_service"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-59">
        <createIndex indexName="dw_property_property_id_idx" schemaName="dw" tableName="dw_property" unique="false">
            <column name="property_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_property" indexName="dw_property_property_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-60">
        <createIndex indexName="dw_property_type_prop_type_id_idx" schemaName="dw" tableName="dw_property_type" unique="false">
            <column name="dw_property_type_id"/>
            <column name="dw_date"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_property_type" indexName="dw_property_type_prop_type_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-61">
        <createIndex indexName="idx_dw_response_type_lookup" schemaName="dw" tableName="dw_response_type" unique="false">
            <column name="technical_name"/>
            <column name="response_name"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_response_type" indexName="idx_dw_response_type_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-62">
        <createIndex indexName="idx_dw_result_id_lookup" schemaName="dw" tableName="dw_result_id" unique="false">
            <column name="hashcode"/>
        </createIndex>
       <rollback>
        	<dropIndex schemaName="dw" tableName="dw_result_id" indexName="idx_dw_result_id_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-63">
        <createIndex indexName="idx_dw_service_task_definition_lookup" schemaName="dw" tableName="dw_service_task_definition" unique="false">
            <column name="task_definition_file"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_service_task_definition" indexName="idx_dw_service_task_definition_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-64">
        <createIndex indexName="dw_state_dw_date_idx" schemaName="dw" tableName="dw_state" unique="false">
            <column name="dw_date"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_state" indexName="dw_state_dw_date_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-65">
        <createIndex indexName="dw_state_end_time_idx" schemaName="dw" tableName="dw_state" unique="false">
            <column name="end_time"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_state" indexName="dw_state_end_time_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-66">
        <createIndex indexName="dw_state_lookup_idx" schemaName="dw" tableName="dw_state" unique="false">
            <column name="dw_call_id"/>
            <column name="service_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_state" indexName="dw_state_lookup_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-67">
        <createIndex indexName="dw_state_start_time_idx" schemaName="dw" tableName="dw_state" unique="false">
            <column name="start_time"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_state" indexName="dw_state_start_time_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-68">
        <createIndex indexName="dw_state_state_id_idx" schemaName="dw" tableName="dw_state" unique="false">
            <column name="state_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_state" indexName="dw_state_state_id_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-69">
        <createIndex indexName="dw_task_end_time_idx" schemaName="dw" tableName="dw_task" unique="false">
            <column name="end_time"/>
        </createIndex>
       <rollback>
        	<dropIndex schemaName="dw" tableName="dw_task" indexName="dw_task_end_time_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-70">
        <createIndex indexName="dw_task_start_time_idx" schemaName="dw" tableName="dw_task" unique="false">
            <column name="start_time"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_task" indexName="dw_task_start_time_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-71">
        <createIndex indexName="idx_dw_task_id_lookup" schemaName="dw" tableName="dw_task_id" unique="false">
            <column name="hashcode"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_task_id" indexName="idx_dw_task_id_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-72">
        <createIndex indexName="idx_dw_task_property_lookup" schemaName="dw" tableName="dw_task_property" unique="false">
            <column name="dw_task_id"/>
            <column name="dw_property_id"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_task_property" indexName="idx_dw_task_property_lookup"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-73">
        <createIndex indexName="dw_transfer_dw_date_idx" schemaName="dw" tableName="dw_transfer" unique="false">
            <column name="dw_date"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="dw_transfer" indexName="dw_transfer_dw_date_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-74">
        <createIndex indexName="load_control_idx" schemaName="dw" tableName="load_control" unique="false">
            <column name="job_name"/>
            <column name="status_name"/>
            <column name="interval_end"/>
        </createIndex>
        <rollback>
        	<dropIndex schemaName="dw" tableName="load_control" indexName="load_control_idx"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-75">
        <createSequence schemaName="dw" sequenceName="dw_call_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_call_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-76">
        <createSequence schemaName="dw" sequenceName="dw_response_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_response_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-77">
        <createSequence schemaName="dw" sequenceName="dw_response_type_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_response_type_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-78">
        <createSequence schemaName="dw" sequenceName="dw_result_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_result_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-79">
        <createSequence schemaName="dw" sequenceName="dw_service_task_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_service_task_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-80">
        <createSequence schemaName="dw" sequenceName="dw_task_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_task_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-81">
        <createSequence schemaName="dw" sequenceName="dw_property_id_seq"/>
        <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_property_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-82">
        <createSequence schemaName="dw" sequenceName="dw_property_type_id_seq"/>
       <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_property_type_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-83">
        <createSequence schemaName="dw" sequenceName="dw_service_result_id_seq"/>
       <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_service_result_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-84">
        <createSequence schemaName="dw" sequenceName="dw_service_state_id_seq"/>
       <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_service_state_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-85">
        <createSequence schemaName="dw" sequenceName="dw_state_id_seq"/>
       <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_state_id_seq"/>
        </rollback>
    </changeSet>
    
    <changeSet author="mball" id="1386069726671-86">
        <createSequence schemaName="dw" sequenceName="dw_transfer_id_seq"/>
       <rollback>
        	<dropSequence schemaName="dw" sequenceName="dw_transfer_id_seq"/>
        </rollback>
    </changeSet>
    
</databaseChangeLog>
